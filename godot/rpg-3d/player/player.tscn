[gd_scene load_steps=7 format=3 uid="uid://c7n8rakk3nm2f"]

[ext_resource type="Script" path="res://player/player.gd" id="1_rlgo6"]
[ext_resource type="Script" path="res://player/smooth_camera_arm.gd" id="2_3arg1"]
[ext_resource type="PackedScene" uid="uid://brd2yu1dfagvl" path="res://player/rig.tscn" id="3_7pya1"]
[ext_resource type="Script" path="res://player/attack_cast.gd" id="4_n3d0y"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_dkr2v"]

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_05dia"]

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_rlgo6")
animation_decay = 22.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_dkr2v")

[node name="SmoothCameraArm" type="SpringArm3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 0.906308, 0.422618, 0, -0.422618, 0.906308, 0, 0, 0)
shape = SubResource("SeparationRayShape3D_05dia")
spring_length = 4.0
script = ExtResource("2_3arg1")
target = NodePath("../HorizontalPivot/VerticalPivot")
decay = 16.0

[node name="Camera3D" type="Camera3D" parent="SmoothCameraArm"]

[node name="HorizontalPivot" type="Node3D" parent="."]

[node name="VerticalPivot" type="Node3D" parent="HorizontalPivot"]

[node name="RigPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Rig" parent="RigPivot" instance=ExtResource("3_7pya1")]

[node name="Skeleton3D" parent="RigPivot/Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(4.44089e-15, 0.910527, -0.0481736)
bones/2/rotation = Quaternion(0.00691715, -0.000274121, 0.00321113, 0.999971)
bones/3/rotation = Quaternion(-0.088641, -0.000277966, 0.00852475, 0.996027)
bones/4/rotation = Quaternion(0.269975, 1.44079e-08, 9.16915e-08, 0.962867)
bones/6/rotation = Quaternion(-0.165079, -1.17574e-07, -1.96789e-08, 0.98628)
bones/7/position = Vector3(-2.9623e-08, 0.910527, -0.0481735)
bones/8/position = Vector3(-6.53985e-08, 0.910527, -0.0481735)
bones/9/position = Vector3(0.131144, 0.976731, -0.0351291)
bones/9/rotation = Quaternion(0.994292, 0.0202236, -0.0312599, 0.099982)
bones/11/rotation = Quaternion(0.393966, -0.000694756, 0.000297919, 0.919125)
bones/13/rotation = Quaternion(-0.740344, 0.0118439, 0.024359, 0.671683)
bones/15/position = Vector3(-0.131144, 0.976731, -0.0351291)
bones/15/rotation = Quaternion(0.975897, -0.00526219, 0.0276829, 0.216404)
bones/17/rotation = Quaternion(0.420267, 0.00314967, -0.00145888, 0.907394)
bones/19/rotation = Quaternion(-0.677706, -0.0281361, -0.00147695, 0.734793)
bones/21/position = Vector3(0.0251286, 1.4401, 0.0473145)
bones/21/rotation = Quaternion(-0.469918, -0.267474, -0.417187, 0.730472)
bones/22/position = Vector3(0.191525, 1.47905, -0.00958385)
bones/22/rotation = Quaternion(0.0205289, -0.164129, 0.9755, -0.145049)
bones/23/rotation = Quaternion(7.81091e-08, -0.039768, 4.04608e-08, 0.999209)
bones/24/rotation = Quaternion(0.353105, -0.0398215, -0.0220451, 0.934476)
bones/46/position = Vector3(-0.0113635, 1.4401, 0.0473145)
bones/46/rotation = Quaternion(-0.46986, 0.265554, 0.416478, 0.731613)
bones/47/position = Vector3(-0.177518, 1.47925, -0.0101577)
bones/47/rotation = Quaternion(-0.00913167, -0.147961, 0.976071, 0.159093)
bones/48/rotation = Quaternion(-7.62402e-08, 0.058193, -5.91006e-08, 0.998305)
bones/49/rotation = Quaternion(0.393977, 0.0581934, 0.0278324, 0.916854)
bones/71/position = Vector3(0.127191, 1.36122, -0.0244033)
bones/71/rotation = Quaternion(2.03276e-08, 0.598142, 0.80139, -4.58437e-08)
bones/72/position = Vector3(-0.113426, 1.36122, -0.0244033)
bones/72/rotation = Quaternion(2.03277e-08, 0.598142, 0.80139, -4.58437e-08)

[node name="RightHandBone" parent="RigPivot/Rig" index="2"]
transform = Transform3D(-0.962344, -0.270799, -0.0237168, 0.220742, -0.829401, 0.513192, -0.158643, 0.488632, 0.857946, -0.351334, 1.01322, 0.0312182)

[node name="LeftHandBone" parent="RigPivot/Rig" index="3"]
transform = Transform3D(-0.9705, 0.239155, 0.0305745, -0.208477, -0.896102, 0.391839, 0.121108, 0.373906, 0.919525, 0.348347, 0.995763, -0.006441)

[node name="RayAttachment" type="BoneAttachment3D" parent="RigPivot/Rig"]
transform = Transform3D(-0.962344, -0.270799, -0.0237168, 0.220742, -0.829401, 0.513192, -0.158643, 0.488632, 0.857946, -0.351334, 1.01322, 0.0312182)
bone_name = "DEF-hand.R"
bone_idx = 51
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="AttackCast" type="RayCast3D" parent="RigPivot/Rig/RayAttachment"]
unique_name_in_owner = true
transform = Transform3D(-3.8097e-09, 4.35451e-08, 1, 0.996196, 0.0871559, 0, -0.0871559, 0.996196, -4.37114e-08, -0.03, 0.075, -0.05)
target_position = Vector3(0, 1, 0)
collision_mask = 8
script = ExtResource("4_n3d0y")

[editable path="RigPivot/Rig"]
[editable path="RigPivot/Rig/CharacterRig"]
